## Sliding Window
在ARQ协议的基础上加上以下约束/特性构成基本滑动窗口策略：
1. 连续发送
2. 按序接收
3. 累积确认
4. 编号重用

以下有滑动窗口的一些性质：

设发送窗口大小$sw$,接收窗口大小$rw$
0. 编号系统呈环状
1. 窗口总是单向滑动，且发送窗口与接收窗口同向滑动
2. $1 \le rw \le sw$
3. 发送窗口滞后于接收窗口
4. 发送窗口中的包都是已发送未确认/未发送的，窗口外的序号有两种可能：已经发送并得到确认的包的序号，或者未使用的序号
5. 接收窗口中的序号是期待接收到的包序号。但窗口之外的序号有两种可能：已经完成接收提交给上层的包的序号，或者未使用的序号

故有如下结论：

1. 最少需要的编号数目
   
   $$sw+rw$$

   大致理由：由于发送窗口滞后于接收窗口，且最大滞后恰好是接收窗口与发送窗口相邻，又接收窗口最大为$sw$，故最少需要$sw+rw$个编号

   大致证明：
   $$
    有rw_l \ge sw_l\\
    则rw_l \le sw_r + 1\\
   $$
    因为若$rw_l > sw_r$，则中间的空隙中的序号必然是已经发送并被接收且被确认的序号。

    考虑到编号的环状结构，这本来是有可能的，但这意味着此时接收窗口滞后于发送窗口。从而这种情况被归谬了。

    综上即可得到结论$rw_r - sw_l + 1$即$sw+rw$