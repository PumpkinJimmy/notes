# 数分三笔记
- [数分三笔记](#数分三笔记)
  - [实数理论](#实数理论)
    - [背景知识](#背景知识)
    - [实数系完备性七大基本定理](#实数系完备性七大基本定理)
    - [实数完备性重要结论：闭区间上连续函数定理](#实数完备性重要结论闭区间上连续函数定理)
  - [多元函数基础](#多元函数基础)
    - [点集拓扑基础](#点集拓扑基础)
    - [多元函数的极限](#多元函数的极限)
  - [多元函数微分学](#多元函数微分学)
    - [目录](#目录)
    - [1. 多元函数偏导数、链式法则](#1-多元函数偏导数链式法则)
    - [2. 方向导数与梯度](#2-方向导数与梯度)
    - [3. 可微性，可微必要条件，可微充分条件](#3-可微性可微必要条件可微充分条件)
    - [4. 多元微分的几何应用：曲线切向量/曲面法向量](#4-多元微分的几何应用曲线切向量曲面法向量)
    - [5. 高阶偏导数，高阶全微分](#5-高阶偏导数高阶全微分)
    - [6. 二元函数微分中值定理](#6-二元函数微分中值定理)
    - [7. 多元泰勒公式](#7-多元泰勒公式)
    - [8. 极值问题](#8-极值问题)
  - [隐函数](#隐函数)
    - [目录](#目录-1)
    - [1. 隐函数存在性定理](#1-隐函数存在性定理)
    - [2. 隐函数求导](#2-隐函数求导)
    - [3. 隐函数组，雅可比行列式，反函数定理](#3-隐函数组雅可比行列式反函数定理)
  - [广义积分](#广义积分)
  - [其他定理补完](#其他定理补完)
    - [导数连续定理](#导数连续定理)
## 实数理论
### 背景知识
- 上确界
  
  $$对非空集合S，若\beta满足：\\
  ①\forall x \in S, \beta \ge x \\
  ②\forall \epsilon>0,\exists x \in S,x > \beta-\epsilon \\
  则称\beta为S的上确界
  $$
### 实数系完备性七大基本定理
0. 实数的完备性公理
   
   戴德金原理

   此公理也称为连续性公理

除此之外有七大基本基本定理：
1. 确界存在定理
   
   $对R的任意非空子集S，若S在R内有上（下）界，则S在R内有上（下）确界$
2. 单调有界定理
   
   单调有界数列必有极限

3. 闭区间套定理
   
   有且只有一个实数被宽度单调缩短至0的闭区间列的交集覆盖

4. 有限覆盖定理
   
   一个包含任意个开区间的某个闭区间的覆盖中可以找到一组有限个的开区间覆盖

5. 聚点定理
   
   有界无穷集至少存在一个聚点

6. 致密性定理
   
   有界列必存在一收敛子列

7. 柯西收敛原理

   对于数列$\{a_n\}$，$\forall \varepsilon > 0, \exists N > 0, \forall n,m > N, |a_n - a_m| < \varepsilon$，**等价于**数列收敛
   
**可以证明，这七大定理和戴德金原理都是等价命题**

### 实数完备性重要结论：闭区间上连续函数定理
1. 函数有界
2. 函数有最值
3. 函数一致连续



## 多元函数基础
### 点集拓扑基础
- 拓扑与拓扑空间
  
  设$X$是一个集合，$T$是$X$的一些子集组成的族，若满足：
  1. $\phi$和$X$属于$T$
  2. $T$中任意多个元素的并仍属于$T$
  3. $T$中有限个元素的交仍属于$T$
  
  则称$(X,T)$为一个拓扑空间，$X$中的元素称为*点*
- 度量空间与距离
  
  度量空间是特殊的拓扑空间。在度量空间中，元素与元素之间的*距离*是可以定义的。

  *距离*是集合元素之间的一种度量，它满足：
  1. （正规性）$r(x,y) \ge 0且r(x,y)=0 \Leftrightarrow,x=y$
  2. （对称性）$r(x,y)=r(y,x)$
  3. **（三角不等式）** $r(x,z) \le r(x,y) + r(y,z)$
   
  最常用的距离是**欧氏距离**

- 邻域
  
  在距离的定义之上可以定义点的*邻域*。

  一个点的$\delta邻域$是指与其距离小于$\delta$的点的集合，表示为$U(P_0, \delta)$.类似地可以定义*去心邻域*

  在$R^2$中邻域分为圆邻域和方邻域，在证明中可以不加区分

- **内点、外点、边界点**
  
  在邻域之上，可以定义一个点集的内点、外点和边界点。

  *内点*是指一个点**存在**一个邻域使得该邻域的点全部属于集合。
  $$
    \exist \delta>0,\text{U}(P,\delta) \subseteq E
  $$
  
  *外点*是指一个点**存在**一个邻域使得该邻域的点全部不属于集合

  $$
    \exist \delta>0,\text{U}(P,\delta) \cap E = \phi
  $$

  *边界点*是指一个点的**任意**一个邻域既包含属于集合的点也包含不属于集合的点

  $$
    \forall \delta>0, \\
    \text{U}(P,\delta)\cap E \neq \phi \\
    \text{U}(P,\delta)\cap \bar{E} \neq \phi
  $$

  可知全空间的点相对于一个点集的关系是**必居其一且仅居其一**

  可知边界点的定义依赖邻域，**边界点不一定属于集合**

- **聚点（极限点）**
  
  *聚点*是指一个点的**任意**一个**去心邻域**都包含属于点集的点
  $$
    \forall \delta >0, \overset{\text{o}}{\text{U}}(P,\delta) \cap E \neq \phi
  $$

  **聚点不一定属于集合**

  **聚点与内、外、边界点的关系** 内点必定是聚点，外点必定不是聚点，边界点可能是聚点

- **几种重要点集**
  
  1. **开集**
     
     元素都是内点的点集称为*开集*

     一些典型的图形去掉边界都是开集

  2. **闭集**
     
     补集为开集的点集称为*闭集*

     一种等价定义是**一个点集的所有极限点都属于这个集合**

     许多满足一元连续显函数的点在平面上也是开集
  
  3. 连通集
     
     若一个点集中任意两个点都可以用有限段全包含于点集的线段组成的折线连接，则称为连通集

     圆环是连通集
  
  4. **区域**
     
     *区域*定义为连通的开集

     区域可以类比一元的“开区间”
  
  5. **闭区域**
     
     包含一个区域以及其边界点的集合称为闭区域

     闭区域可以类比一元的“闭区间”
  
  6. **常见易错**
     - $$
        \{(x,y)|y=\sin{\frac{1}{x}},x>0\}
       $$
       非开非闭集合，聚点集合是$\{(x,y)|y=\sin{\frac{1}{x}},x>0或x=0,-1\le y \le 1\}$

       由于不包含多出来的线段，该点集不是闭集
    
     - $$
           \{(x,y)|x^2+y^2=1\}
         $$
        是闭集，非闭区域。由于它没有内点组成的区域部分
    
     - $$
         \{(x,y)|x,y为整数\}
       $$
       是闭集，由于它没有极限点。此外这个集合里的点全是边界点。


- **聚点充要条件**

$$
   P为聚点 \Leftrightarrow \exists {P_n}, P_n \to P 
$$

### 多元函数的极限
- 前言
  
  实际上，函数极限是一种**定义在聚点**上的运算。

  区别于我们说的间断点*极限不存在*，在非聚点的点上是*极限运算没有定义*。因为极限的定义虽然不要求点在定义域内，但要求点的邻域要与定义域有交集

  这种说法主要是明确了一些有定义的*孤立点*上的极限运算是没有定义的。

- 重极限性质
  
  除了一般的极限性质，还有：
  
  **（海涅归结原理）**
  $$
   \lim_{P\to P_0,P \in D} f(P) = A
  $$
  的充要条件是
  $$
   \forall E \subset D,只要P_0为E的聚点，则 \lim_{P\to P_0,P \in E} f(P) = A
  $$
  这一原理的直观理解是：在邻域内沿着各个方向趋近得到的极限必须都存在且相等

  重要推论-重极限不存在的充分条件：
  $$
   \exists E_1, E_2 \subset D, \lim_{P\to P_0,P \in E_1} \neq \lim_{P\to P_0,P \in E_2}
  $$

  本推论指明一种证明重极限不存在的方法：**寻找两条路径，使得它们的极限不相等**

  这里有一个陷阱：**路径必须全包含于定义域$D$**，比如：
  $$
   f(x,y) = x\sin\frac{1}{y} + y\sin\frac{1}{x}
  $$
  该函数沿$x=0,y=0$均为极限不存在，但这两条路径是没有定义的，故判定不成立
- 全面极限（重极限）与累次极限
  
  两者几乎没有关系，例如两个累次极限存在且都相等，但重极限不存在：
  $$
   f(x,y) = \frac{xy}{x^2 + y^2} \\
  $$
  这个函数的累次极限是0，但重极限不存在（取$y=kx$可知)

  又如有的重极限存在，但累次极限不存在的：
  $$ 
   f(x,y) = x\sin \frac{1}{y} + y\sin\frac{1}{x}\\
  $$
  的重极限为0，但累次极限不存在。重极限证明如下：
  $$
   |x\sin \frac{1}{y} + y\sin\frac{1}{x}| \le |x| + |y|
  $$

  全面极限与重极限的直接关系：
  1. 如果累次极限与重极限都存在，则它们都相等
   
     本质上是因为海涅归结原理，累次极限存在$\Rightarrow$沿坐标轴的四条路径全包含于定义域内且路径上极限存在；重极限存在$\Rightarrow$每一条路径的极限都相等，且等于重极限
  2. 如果两个累次极限存在且不相等，则重极限不存在

     仍然是海涅归结原理，相当于找到了极限不相等的路径，故重极限不存在

  
## 多元函数微分学
### 目录
1. 多元函数偏导数、链式法则
2. 方向导数与梯度
3. 可微性，可微必要条件，可微充分条件
4. 多元微分的几何应用：曲线切向量/曲面法向量
5. 高阶偏导数、全微分
6. 多元函数的微分中值定理
7. 多元泰勒公式
8. 极值问题

### 1. 多元函数偏导数、链式法则
易错：**链式法则只能在可微的点上使用**
（待完善）

### 2. 方向导数与梯度
方向导数公式：
$$
   \frac{\partial f}{\partial l} = 
   f_x \cos\alpha + f_y \cos\beta \\
   其中\cos\alpha, \cos\beta为方向余弦 \\
   容易证明，梯度方向是函数最速上升方向；负梯度方向为函数最速下降方向
$$
公式容易推广到多元\\
（待完善）

### 3. 可微性，可微必要条件，可微充分条件
二元函数可微的定义：
$$
   \Delta f = f(x_0+\Delta x, y_0 + \Delta y) - f(x_0,y_0) = A\Delta x + B\Delta y + o(\rho)
$$
其中，$A,B$为与$\Delta x, \Delta y$无关的常数

可微必要条件：$f(x,y)$一阶偏导存在

可微充分条件：$f(x,y)$一阶连续可导（即一阶可导，且一阶导连续）

**推论：微分表达式**
$$
   \Delta f = f_x(x_0,y_0)\Delta x + f_y(x_0,y_0)\Delta y + o(\rho)
$$

**总结：多元微分条件**
$$
   连续可导 \Rightarrow 可微 \Rightarrow 可导，连续\\
   以上条件逆过来均不成立
$$

### 4. 多元微分的几何应用：曲线切向量/曲面法向量
1. **曲线切向量公式：**

   **参数方程表示**
   $$
   考虑参数方程\\
   \begin{cases}
   x = x(t) \\
   y = y(t) \\
   z = z(t) \\
   \end{cases}
   $$
   所确定的曲线，其切向量为$\vec t = (x'(t),y'(t), z'(t))$

   **显函数表示**

   若将$x$当作参数，可以表示为：$\vec t = (1, y_x, z_x)$

   **隐函数表示**

   考虑隐函数表示的空间曲线
   $$
      \begin{cases}
         F(x,y,z) = 0\\
         G(x,y,z) = 0
      \end{cases}
   $$

   套用显函数表示的方法推导出：

   $\vec t = (1, y_x, z_x)$
   其中：
   $$
      J = \frac{\partial (F,G)}{\partial (y,z)}\\
      y_x = -\frac{1}{J} \frac{\partial (F,G)}{\partial (x,z)}\\
      z_x = -\frac{1}{J} \frac{\partial (F,G)}{\partial (y,x)}
   $$

2. **曲面法向量**
   
   **显函数表示**

   考虑$z=f(x,y)$确定的曲面，
   $\vec n = \pm (f_x, f_y, -1)$

   **隐函数表示**

   考虑$F(x,y,z)=0$确定的曲面，从显函数表示推导出：

   $\vec n = \pm (F_x, F_y, F_z)$

   **参数方程表示**

   考虑
   $$
   \begin{cases}
   x = x(u,v) \\
   y = y(u,v) \\
   z = z(u,v)
   \end{cases}
   $$
   确定的曲面

   利用显函数形式推导出$\vec n = (z_x,z_y,-1)$

   假定$(u,v) \mapsto (x,y)$存在逆映射$(x,y) \mapsto (u,v)$，
   
   则$z = z(u,v) = z(u(x,y),v(x,y))$

   其中：
   $$
      J = \frac{\partial (x,y)}{\partial, (u,v)}\\
      \begin{cases}
      z_x = z_u u_x + z_v v_x\\
      u_x = y_v / J\\
      v_x = - y_u / J \\
      
      \end{cases}\\
      从而有z_x = \left. \frac{\partial (z,y)}{\partial, (u,v)}\middle/ \frac{\partial (x,y)}{\partial, (u,v)}\right.\\
      同理有z_y = \left. \frac{\partial (x,z)}{\partial, (u,v)}\middle/ \frac{\partial (x,y)}{\partial, (u,v)}\right.
   $$

### 5. 高阶偏导数，高阶全微分

二阶混合偏导相等的条件：一阶连续可导

当fn阶连续可导，有如下n阶全微分表达式：
$$
   d^n f(P) = \left(\frac{\partial}{\partial x}\Delta x + \frac{\partial}{\partial y} \Delta y\right)^n f(P)
$$

注：以上是一种简单表示，旨在表示混合偏导相等时，全微分可以与二项式定理相联系

### 6. 二元函数微分中值定理
若$f(x,y)$在区域内连续可导，则：
$$
   f(x_0+\Delta x, y_0 + \Delta y) =
   f(x_0,y_0) + 
   f_x(x_0 + \theta\Delta x, y_0 + \theta\Delta y) \Delta x +
   f_y(x_0 + \theta\Delta x, y_0 + \theta\Delta y)\Delta y
$$
注意此结论容易推广到多元，且$\theta$是同一个$\theta$

### 7. 多元泰勒公式
$设f(x,y)$为$n+1$阶连续可导函数，则
$$
   f(x_0 + \Delta x, y_0 + \Delta y) =
   f(x_0,y_0) + 
   \sum_{k=1}^{n} \frac{1}{k!} \mathrm{d}^k f(x_0,y_0) + o(\rho^n)
$$
拉格朗日余项形式：
$$
   f(x_0 + \Delta x, y_0 + \Delta y) = \\
   f(x_0,y_0) + 
   \sum_{k=1}^{n} \frac{1}{k!} \mathrm{d}^k f(x_0,y_0) + 
   \mathrm{d}^{n+1}f(x_0+\theta\Delta x, y_0 + \theta\Delta y)
$$

注：这是借助全微分的简化写法，以二阶为例，展开的写法为：
$$
   f(x_0 + \Delta x, y_0 + \Delta y) = \\
   f(x_0,y_0)\\
   +f_x(x_0,y_0)\Delta x + f_y(x_0,y_0)\Delta y\\
   +\frac{1}{2}\left(f_{xx}(x_0, y_0) \Delta x^2 + 2f_{xy}(x_0, y_0)\Delta x \Delta y + f_{yy}(x_0,y_0)\Delta y^2 \right)\\
    +\frac{1}{6}\left(\frac{\partial}{\partial x}\Delta x + \frac{\partial}{\partial y} \Delta y\right)^3 f(x_0 + \theta\Delta x, y_0 + \theta\Delta y)
   
$$
注意到在拉格朗日余项里边，取**中值的n+1阶全微分**，但**保留原来的$\Delta$**

*二阶泰勒的简化记法：
$$
   \Delta f(\mathbf{x}) =  \nabla f + \frac{1}{2} \mathbf{x}^T H \mathbf{x} + o(\rho^2)
$$
其中$\mathbf{x} \in R^n, \nabla为梯度算子，H为Hessian矩阵$

二元函数的黑塞矩阵表示为：
$$
   H = \left(
   \begin{array}{cccc}
   f_{xx} & f_{yx} \\
   f_{xy} & f_{yy}
   \end{array}\right)
$$


### 8. 极值问题
**无条件极值**

驻点：梯度为0的点

**连续可微函数**极值点必要条件：

$$
   \nabla f = \mathbf{0}
$$

**注意：某些不可导的点依然可能是极值点，不适用上述条件**

连续可微函数极值点充分条件：

$$
   \begin{cases}
      \nabla f(P) = \mathbf{0}\\
      H_f(P)正定或负定
   \end{cases}\\
   其中H_f(P)表示P点处Hessian矩阵\\
$$

关于充分条件的说明:
- 推论1：二元情况下，$|H_f(P)| < 0时P一定不是极值点$（因为黑塞矩阵为不定矩阵）
- 推论2：二元情况下，$f_{xx} > 0$时为极小值点，反之为极大值点
- 这是不必要条件。某些黑塞矩阵为0的点依然是极值点

**条件极值：拉格朗日乘数法**
（待完善）

## 隐函数
### 目录
- 隐函数存在性定理
- 隐函数求导
- 隐函数组，雅可比行列式，反函数定理
- 隐函数极值问题

### 1. 隐函数存在性定理
对二元的情况：

若$F(x,y)在P_0(x_0,y_0)的邻域内$满足：
$$
   \begin{cases} 
   F(x_0,y_0) = 0\\
   F_x,F_y 连续\\
   F_y(x_0,y_0) \ne 0
   \end{cases}
$$

则**在$P_0$的邻域**内有下三个结论：
$$
\begin{cases} 
   可唯一确定 f:y = f(x)\\
   f(x)连续\\
   f(x)可微
   \end{cases}
$$

注意事项：

1. 定理对邻域成立，也即存在**局部**隐函数
2. 定理是**充分不必要**条件，如：
   
   $$
      F(x,y) = y^3 - x^3
   $$
   在$(0,0)$邻域内不满足定理条件，但仍然能确定唯一的隐函数且连续可微

3. *定理具有弱化版本：
   
   若$F(x,y)在P_0(x_0,y_0)的邻域内$满足：
   $$
      \begin{cases} 
      F(x_0,y_0) = 0\\
      F 对y单调
      \end{cases}
   $$

   则在$P_0$的邻域内有结论：
   $$
   \begin{cases} 
      可唯一确定 f:y = f(x)\\
      f(x)连续\\
      \end{cases}
   $$
### 2. 隐函数求导
隐函数求导的表达式是隐函数存在性定理的推论

**隐函数导数表达式**
$$
   f'(x) = -\frac{F_x}{F_y}
$$

**多元情形**
$$
   以三元为例，多元同理\\
   若F(x_0,y_0,z_0)=0，偏导都连续，且\\
   F_z(x_0,y_0,z_0) \ne 0\\
   则邻域内唯一确定z=f(x,y)\\
   且有偏导数公式：
   f_x = -\frac{F_x}{F_z}, f_y = -\frac{F_y}{F_z}\\
   以此类推可以推广到任意多元隐函数
$$

高阶情形类似显函数的高阶偏导

### 3. 隐函数组，雅可比行列式，反函数定理
- 雅可比行列式
  $$
  \frac{\partial (u,v)}{\partial (x,y)} = \left|\begin{array}{cccc}
   u_x & v_x \\
   u_y & v_y
  \end{array}\right|
  $$

- 基本情形：
  
  考虑方程组：
  $$
   \begin{cases}
      F(x,y,u,v) = 0 \\
      G(x,y,u,v) = 0
   \end{cases}
  $$
  
  若$F,G$一阶连续可导，且满足
  $$
   J = \frac{\partial (F,G)}{\partial (u,v)} \ne 0
  $$

  则在邻域内唯一确定$u=u(x,y), v=v(x,y)$，且他们的偏导数是：
  $$
   u_x = -\frac{1}{J} \frac{\partial (F,G)}{\partial(x,v)}\\
   u_y = -\frac{1}{J} \frac{\partial (F,G)}{\partial(y,v)}\\
   v_x = -\frac{1}{J} \frac{\partial (F,G)}{\partial(u,x)}\\
   v_y = -\frac{1}{J} \frac{\partial (F,G)}{\partial(u,y)}\\
  $$

- 反函数定理：
  $$
   令J = \frac{\partial (u,v)}{\partial (x,y)}\\
   若J \ne 0，则存在反函数组，且反函数偏导：\\
   x_u = v_y/J\\
   x_v = -u_y/J\\
   y_u = -v_x/J\\
   y_v = u_x / J
  $$
  推论：
  $$
   \frac{\partial (u,v)}{\partial (x,y)} \cdot \frac{\partial (x,y)}{\partial (u,v)}=1
  $$
- 一般情形
  
  考虑方程组：
  $$
  \begin{cases}
   F_1(x_1,x_2,\cdots, x_n;y_1,y_2,\cdots,y_m) = 0\\
   \vdots \\
   F_m(x_1,x_2,\cdots, x_n;y_1,y_2,\cdots,y_m) = 0
  \end{cases}
  $$
  若
  $$
   J = \frac{\partial (F_1,\cdots,F_m)}{\partial (y_1,\cdots,y_m)} \ne 0
  $$
  则在邻域内唯一确定函数组：
  $$
   \begin{cases}
   y_1 = f_1(x_1,x_2,\cdots, x_n)\\
   \vdots \\
   y_m = f_m(x_1,x_2,\cdots, x_n)
  \end{cases}
  $$

- 更一般表示：$R^n$上的映射
  
  考虑$f:R^n \mapsto R^m$
  
  此时$f$等价于一个包含$m$个$R^n \mapsto R$的函数的函数组

  $f$的“导数”即**雅可比矩阵或其行列式**

  $f$的逆映射就是函数组的“反函数”

  隐函数组相关定理可以重写为：

  $$
  \mathbf{F}:R^{n+m}\mapsto R^m,\mathbf{x} \in R^n,\mathbf{y} \in R^m, \mathbf{f}:R^n \mapsto R^m\\
  方程\mathbf{F}(\mathbf{x};\mathbf{y})=\mathbf{0}\\
  唯一确定隐函数\mathbf{y} = \mathbf{f}(\mathbf{x})的充分条件：
  $$
  $$
  \frac{\partial \mathbf{F}}{\partial \mathbf{y}} \ne 0
  $$

## 广义积分
（待完善）

- 收敛与一致收敛
  - 收敛概念适用于任意广义积分；一致收敛在含参变量的广义积分上讨论
  - 一致收敛是定义在区间上的性质，它影响的主要是参变量函数的分析性质


## 其他定理补完
### 导数连续定理
单侧导数极限定理：
$$
设f(x)在x_0右侧邻域内可导\\
若导函数右侧极限f'(x_0^+)存在，则函数右侧导数f'_+(x_0)存在，且：\\
    f'(x_0^+) = f'_+(x_0)
$$
也即：
$导函数右极限存在，右导数存在\Rightarrow导数右连续$

导数连续定理：
$$
设f(x)在x_0邻域内可导\\
若导函数极限\lim_{x\to x_0} f'(x)存在，则函数导数f'(x_0)存在，且：\\
    \lim_{x\to x_0} f'(x) = f'(x_0)
$$
也即：$导函数极限存在，导数存在\Rightarrow导数连续$