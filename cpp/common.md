## 一般C++编程
### 全局变量
- 用函数返回值初始化全局变量/初始化对象从而调用构造函数是在main开始之前执行代码的方法。但要注意不同全局变量之间的初始化顺序是**不确定**的，小心相互依赖。
- 全局变量之可以定义一次，对应只分配一次全局区内存。多个文件中多次定义全局变量会导致重定义错误（除非使用static限定链接性）。但多个文件中使用全局变量要**声明**，语法是常规声明前面加extern如`extern int a`。声明要求本质上源于文件是*最小的编译单元*。
- 重定义的问题主要出现于在头文件中定义全局变量的做法。
- 函数定义有类似的问题，不要在头文件定义函数。
- 对于全局变量，正确做法是在头文件中写*声明*，在源文件中*定义*，然后链接
- 对于全局函数，两种做法：
  1. 头文件中*声明*，源文件中*定义*（标准做法）
  2. static定义
  3. inline（inline函数具有文件内的链接性）

### 列表初始化
C++11允许采用形如
```cpp
vector<int> vec = {1, 2, 3, 4};
map<int, string> = { {1, "a"}, {2, "b"} };
```
的列表初始化语法来初始化STL容器，可以大大方便容器的初始化。（上述语法中的等号可以省略）

这种用法的奥秘在于：
1. 编译器的支持
2. initialize_list模板类支持变长的、任意类型的序列（尤其用于map这种每个项类型不一样的东西）